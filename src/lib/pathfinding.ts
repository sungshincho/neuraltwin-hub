/**
 * Customer Pathfinding System
 * 20개의 사전 정의된 고객 동선 케이스를 사용합니다.
 * 시간대에 따라 가중치를 적용하여 랜덤하게 케이스가 선택됩니다.
 * 
 * 변환 규칙: Blender (x, y) → Viewer [x, 0.5, z] where z = -y
 */

// 시간대 타입
export type TimeSlot = 'morning' | 'afternoon' | 'evening';

// 20개의 3D 경로 케이스 (이미 [x, 0.5, z] 형식)
const PATH_CASES: [number, number, number][][] = [
// Case 1 (34 포인트)
 [
    [2, 0.5, 5], [2, 0.5, 4], [2, 0.5, 3], [3, 0.5, 3], [3, 0.5, 4], [4, 0.5, 4],
    [4, 0.5, 3], [5, 0.5, 3], [5, 0.5, 4], [6, 0.5, 4], [6, 0.5, 3], [6, 0.5, 2],
    [6, 0.5, 1], [6, 0.5, 0], [6, 0.5, -1], [6, 0.5, -2], [5, 0.5, -2], [5, 0.5, -3],
    [4, 0.5, -3], [4, 0.5, -2], [3, 0.5, -2], [2, 0.5, -2], [1, 0.5, -2], [1, 0.5, -1],
    [0, 0.5, -1], [0, 0.5, 0], [0, 0.5, 1], [0, 0.5, 2], [-1, 0.5, 2], [-2, 0.5, 2],
    [-3, 0.5, 2], [-3, 0.5, 3], [-3, 0.5, 4], [-3, 0.5, 5], [-2, 0.5, 5], [-2, 0.5, 4],
    [-1, 0.5, 4], [0, 0.5, 4], [1, 0.5, 4], [1, 0.5, 3], [1, 0.5, 2], [0, 0.5, 2],
    [0, 0.5, 3], [-1, 0.5, 3], [0, 0.5, 3], [1, 0.5, 3], [2, 0.5, 3], [2, 0.5, 4],
    [2, 0.5, 5],
  ],

  // Case 2 (49 포인트)
  [
    [2, 0.5, 5], [2, 0.5, 4], [3, 0.5, 4], [3, 0.5, 3], [4, 0.5, 3], [4, 0.5, 2],
    [4, 0.5, 1], [4, 0.5, 0], [3, 0.5, 0], [3, 0.5, 1], [3, 0.5, 2], [3, 0.5, 3],
    [3, 0.5, 4], [4, 0.5, 4], [4, 0.5, 3], [5, 0.5, 3], [4, 0.5, 3], [3, 0.5, 3],
    [2, 0.5, 3], [1, 0.5, 3], [0, 0.5, 3], [-1, 0.5, 3], [-2, 0.5, 3], [-2, 0.5, 4],
    [-2, 0.5, 5], [-3, 0.5, 5], [-3, 0.5, 4], [-2, 0.5, 4], [-1, 0.5, 4], [-1, 0.5, 3],
    [0, 0.5, 3], [1, 0.5, 3], [1, 0.5, 4], [0, 0.5, 4], [0, 0.5, 3], [0, 0.5, 2],
    [1, 0.5, 2], [1, 0.5, 1], [1, 0.5, 0], [1, 0.5, -1], [0, 0.5, -1], [1, 0.5, -1],
    [1, 0.5, 0], [1, 0.5, 1], [1, 0.5, 2], [1, 0.5, 3], [2, 0.5, 3], [2, 0.5, 4],
    [2, 0.5, 5],
  ],

  // Case 3 (42 포인트)
  [
    [2, 0.5, 5], [2, 0.5, 4], [4, 0.5, 4], [5, 0.5, 3], [4, 0.5, 2], [3, 0.5, 1],
    [4, 0.5, 0], [3, 0.5, 1], [3, 0.5, 3], [2, 0.5, 4], [0, 0.5, 4], [-1, 0.5, 3],
    [1, 0.5, 3], [-1, 0.5, 3], [-3, 0.5, 3], [-4, 0.5, 4], [-4, 0.5, 2], [-2, 0.5, 2],
    [-1, 0.5, 3], [-2, 0.5, 4], [-3, 0.5, 3], [-4, 0.5, 2], [-4, 0.5, 4], [-5, 0.5, 5],
    [-6, 0.5, 4], [-6, 0.5, 2], [-6, 0.5, 0], [-6, 0.5, -2], [-6, 0.5, -4], [-6, 0.5, -6],
    [-4, 0.5, -6], [-2, 0.5, -6], [-2, 0.5, -4], [-3, 0.5, -3], [-4, 0.5, -2], [-4, 0.5, 0],
    [-2, 0.5, 0], [0, 0.5, 0], [1, 0.5, 1], [1, 0.5, 3], [2, 0.5, 4], [2, 0.5, 5],
  ],

  // Case 4 (43 포인트)
  [
    [2, 0.5, 5], [2, 0.5, 4], [3, 0.5, 4], [3, 0.5, 3], [2, 0.5, 3], [1, 0.5, 3],
    [0, 0.5, 3], [0, 0.5, 2], [1, 0.5, 2], [1, 0.5, 1], [1, 0.5, 0], [0, 0.5, 0],
    [0, 0.5, 1], [0, 0.5, 2], [-1, 0.5, 2], [-2, 0.5, 2], [-3, 0.5, 2], [-4, 0.5, 2],
    [-5, 0.5, 2], [-6, 0.5, 2], [-5, 0.5, 2], [-4, 0.5, 2], [-3, 0.5, 2], [-3, 0.5, 3],
    [-3, 0.5, 4], [-3, 0.5, 5], [-2, 0.5, 5], [-2, 0.5, 4], [-2, 0.5, 3], [-2, 0.5, 2],
    [-1, 0.5, 2], [0, 0.5, 2], [0, 0.5, 1], [1, 0.5, 1], [1, 0.5, 2], [1, 0.5, 3],
    [1, 0.5, 4], [0, 0.5, 4], [-1, 0.5, 4], [0, 0.5, 4], [1, 0.5, 4], [2, 0.5, 4],
    [2, 0.5, 5],
  ],

  // Case 5 (37 포인트)
  [
    [2, 0.5, 5], [2, 0.5, 4], [2, 0.5, 3], [3, 0.5, 3], [4, 0.5, 3], [4, 0.5, 2],
    [4, 0.5, 1], [4, 0.5, 0], [3, 0.5, 0], [3, 0.5, 1], [3, 0.5, 2], [3, 0.5, 3],
    [4, 0.5, 3], [3, 0.5, 3], [2, 0.5, 3], [1, 0.5, 3], [0, 0.5, 3], [-1, 0.5, 3],
    [-2, 0.5, 3], [-3, 0.5, 3], [-3, 0.5, 4], [-3, 0.5, 5], [-3, 0.5, 4], [-2, 0.5, 4],
    [-2, 0.5, 3], [-3, 0.5, 3], [-3, 0.5, 2], [-2, 0.5, 2], [-1, 0.5, 2], [0, 0.5, 2],
    [0, 0.5, 1], [1, 0.5, 1], [1, 0.5, 2], [1, 0.5, 3], [2, 0.5, 3], [2, 0.5, 4],
    [2, 0.5, 5],
  ],

  // Case 6 (35 포인트)
  [
    [2, 0.5, 5], [2, 0.5, 4], [3, 0.5, 4], [4, 0.5, 4], [5, 0.5, 4], [5, 0.5, 3],
    [4, 0.5, 3], [3, 0.5, 3], [2, 0.5, 3], [2, 0.5, 4], [2, 0.5, 5], [2, 0.5, 4],
    [1, 0.5, 4], [0, 0.5, 4], [-1, 0.5, 4], [-2, 0.5, 4], [-3, 0.5, 4], [-4, 0.5, 4],
    [-5, 0.5, 4], [-6, 0.5, 4], [-6, 0.5, 3], [-5, 0.5, 3], [-4, 0.5, 3], [-4, 0.5, 2],
    [-3, 0.5, 2], [-2, 0.5, 2], [-2, 0.5, 3], [-1, 0.5, 3], [0, 0.5, 3], [0, 0.5, 2],
    [1, 0.5, 2], [1, 0.5, 3], [2, 0.5, 3], [2, 0.5, 4], [2, 0.5, 5],
  ],

  // Case 7 (43 포인트)
  [
    [2, 0.5, 5], [2, 0.5, 4], [1, 0.5, 3], [-1, 0.5, 3], [0, 0.5, 2], [0, 0.5, 0],
    [-2, 0.5, 0], [-3, 0.5, -1], [-4, 0.5, -2], [-5, 0.5, -3], [-5, 0.5, -1], [-6, 0.5, 0],
    [-6, 0.5, 2], [-6, 0.5, 4], [-5, 0.5, 5], [-4, 0.5, 4], [-4, 0.5, 4], [-5, 0.5, 3],
    [-6, 0.5, 2], [-6, 0.5, 0], [-5, 0.5, -1], [-4, 0.5, 0], [-2, 0.5, 0], [-2, 0.5, -2],
    [-2, 0.5, -2], [-2, 0.5, -4], [-2, 0.5, -6], [0, 0.5, -6], [2, 0.5, -6], [4, 0.5, -6],
    [6, 0.5, -6], [5, 0.5, -7], [5, 0.5, -5], [6, 0.5, -6], [6, 0.5, -6], [6, 0.5, -4],
    [6, 0.5, -2], [6, 0.5, 0], [6, 0.5, 2], [5, 0.5, 3], [3, 0.5, 3], [2, 0.5, 4],
    [2, 0.5, 5],
  ],

  // Case 8 (48 포인트)
  [
    [2, 0.5, 5], [2, 0.5, 4], [0, 0.5, 4], [-1, 0.5, 3], [0, 0.5, 2], [1, 0.5, 1],
    [1, 0.5, 3], [2, 0.5, 4], [2, 0.5, 4], [3, 0.5, 3], [4, 0.5, 2], [4, 0.5, 0],
    [3, 0.5, 1], [3, 0.5, 3], [1, 0.5, 3], [-1, 0.5, 3], [-2, 0.5, 4], [-3, 0.5, 5],
    [-4, 0.5, 4], [-5, 0.5, 3], [-6, 0.5, 4], [-5, 0.5, 5], [-3, 0.5, 5], [-2, 0.5, 4],
    [-1, 0.5, 3], [-2, 0.5, 2], [-3, 0.5, 3], [-4, 0.5, 2], [-6, 0.5, 2], [-6, 0.5, 0],
    [-6, 0.5, -2], [-6, 0.5, -4], [-6, 0.5, -6], [-5, 0.5, -7], [-4, 0.5, -6], [-2, 0.5, -6],
    [-2, 0.5, -4], [-2, 0.5, -2], [-3, 0.5, -1], [-4, 0.5, -2], [-4, 0.5, -2], [-2, 0.5, -2],
    [-1, 0.5, -1], [1, 0.5, -1], [1, 0.5, 1], [1, 0.5, 3], [2, 0.5, 4], [2, 0.5, 5],
  ],

  // Case 9 (45 포인트)
  [
    [2, 0.5, 5], [2, 0.5, 4], [1, 0.5, 3], [1, 0.5, 1], [0, 0.5, 2], [0, 0.5, 4],
    [1, 0.5, 3], [3, 0.5, 3], [4, 0.5, 4], [5, 0.5, 3], [4, 0.5, 2], [3, 0.5, 3],
    [4, 0.5, 4], [6, 0.5, 4], [5, 0.5, 3], [3, 0.5, 3], [1, 0.5, 3], [-1, 0.5, 3],
    [-3, 0.5, 3], [-3, 0.5, 5], [-2, 0.5, 4], [-2, 0.5, 2], [-1, 0.5, 3], [0, 0.5, 4],
    [1, 0.5, 3], [0, 0.5, 2], [-1, 0.5, 3], [-2, 0.5, 2], [0, 0.5, 2], [1, 0.5, 1],
    [1, 0.5, 3], [0, 0.5, 2], [0, 0.5, 0], [-2, 0.5, 0], [-3, 0.5, -1], [-3, 0.5, -3],
    [-3, 0.5, -1], [-2, 0.5, 0], [-4, 0.5, 0], [-2, 0.5, 0], [0, 0.5, 0], [1, 0.5, 1],
    [1, 0.5, 3], [2, 0.5, 4], [2, 0.5, 5],
  ],

  // Case 10 (77 포인트)
  [
    [2, 0.5, 5], [2, 0.5, 4], [3, 0.5, 4], [3, 0.5, 3], [2, 0.5, 3], [1, 0.5, 3],
    [1, 0.5, 2], [0, 0.5, 2], [0, 0.5, 3], [0, 0.5, 4], [1, 0.5, 4], [2, 0.5, 4],
    [2, 0.5, 5], [2, 0.5, 4], [2, 0.5, 3], [3, 0.5, 3], [4, 0.5, 3], [4, 0.5, 2],
    [3, 0.5, 2], [3, 0.5, 3], [2, 0.5, 3], [1, 0.5, 3], [0, 0.5, 3], [-1, 0.5, 3],
    [-2, 0.5, 3], [-2, 0.5, 4], [-2, 0.5, 5], [-2, 0.5, 4], [-3, 0.5, 4], [-3, 0.5, 5],
    [-4, 0.5, 5], [-5, 0.5, 5], [-5, 0.5, 4], [-6, 0.5, 4], [-6, 0.5, 3], [-6, 0.5, 2],
    [-5, 0.5, 2], [-4, 0.5, 2], [-4, 0.5, 3], [-5, 0.5, 3], [-5, 0.5, 4], [-5, 0.5, 5],
    [-6, 0.5, 5], [-6, 0.5, 4], [-5, 0.5, 4], [-4, 0.5, 4], [-3, 0.5, 4], [-2, 0.5, 4],
    [-1, 0.5, 4], [0, 0.5, 4], [1, 0.5, 4], [1, 0.5, 3], [1, 0.5, 2], [1, 0.5, 1],
    [1, 0.5, 0], [1, 0.5, -1], [1, 0.5, -2], [2, 0.5, -2], [3, 0.5, -2], [4, 0.5, -2],
    [3, 0.5, -2], [3, 0.5, -3], [4, 0.5, -3], [5, 0.5, -3], [5, 0.5, -2], [6, 0.5, -2],
    [6, 0.5, -1], [6, 0.5, 0], [6, 0.5, 1], [6, 0.5, 2], [6, 0.5, 3], [5, 0.5, 3],
    [4, 0.5, 3], [3, 0.5, 3], [2, 0.5, 3], [2, 0.5, 4], [2, 0.5, 5],
  ],

  // Case 11 (57 포인트)
  [
    [2, 0.5, 5], [2, 0.5, 4], [2, 0.5, 3], [3, 0.5, 3], [3, 0.5, 2], [4, 0.5, 2],
    [4, 0.5, 3], [5, 0.5, 3], [6, 0.5, 3], [6, 0.5, 4], [5, 0.5, 4], [4, 0.5, 4],
    [3, 0.5, 4], [2, 0.5, 4], [1, 0.5, 4], [1, 0.5, 3], [1, 0.5, 2], [0, 0.5, 2],
    [-1, 0.5, 2], [-2, 0.5, 2], [-3, 0.5, 2], [-3, 0.5, 3], [-3, 0.5, 4], [-3, 0.5, 5],
    [-4, 0.5, 5], [-5, 0.5, 5], [-6, 0.5, 5], [-6, 0.5, 4], [-5, 0.5, 4], [-5, 0.5, 3],
    [-4, 0.5, 3], [-3, 0.5, 3], [-3, 0.5, 4], [-2, 0.5, 4], [-2, 0.5, 3], [-1, 0.5, 3],
    [-1, 0.5, 2], [-2, 0.5, 2], [-3, 0.5, 2], [-4, 0.5, 2], [-5, 0.5, 2], [-6, 0.5, 2],
    [-6, 0.5, 3], [-6, 0.5, 4], [-5, 0.5, 4], [-4, 0.5, 4], [-4, 0.5, 3], [-5, 0.5, 3],
    [-4, 0.5, 3], [-3, 0.5, 3], [-2, 0.5, 3], [-1, 0.5, 3], [0, 0.5, 3], [1, 0.5, 3],
    [2, 0.5, 3], [2, 0.5, 4], [2, 0.5, 5],
  ],

  // Case 12 (35 포인트)
  [
    [2, 0.5, 5], [2, 0.5, 4], [3, 0.5, 4], [3, 0.5, 3], [2, 0.5, 3], [1, 0.5, 3],
    [1, 0.5, 2], [0, 0.5, 2], [0, 0.5, 3], [-1, 0.5, 3], [-2, 0.5, 3], [-2, 0.5, 2],
    [-3, 0.5, 2], [-4, 0.5, 2], [-3, 0.5, 2], [-2, 0.5, 2], [-2, 0.5, 3], [-2, 0.5, 4],
    [-2, 0.5, 5], [-3, 0.5, 5], [-4, 0.5, 5], [-5, 0.5, 5], [-6, 0.5, 5], [-6, 0.5, 4],
    [-5, 0.5, 4], [-4, 0.5, 4], [-4, 0.5, 3], [-3, 0.5, 3], [-2, 0.5, 3], [-1, 0.5, 3],
    [0, 0.5, 3], [1, 0.5, 3], [2, 0.5, 3], [2, 0.5, 4], [2, 0.5, 5],
  ],

  // Case 13 (41 포인트)
  [
    [2, 0.5, 5], [2, 0.5, 4], [1, 0.5, 4], [1, 0.5, 3], [1, 0.5, 2], [0, 0.5, 2],
    [0, 0.5, 3], [0, 0.5, 4], [-1, 0.5, 4], [-2, 0.5, 4], [-2, 0.5, 5], [-3, 0.5, 5],
    [-4, 0.5, 5], [-4, 0.5, 4], [-3, 0.5, 4], [-3, 0.5, 3], [-2, 0.5, 3], [-1, 0.5, 3],
    [-1, 0.5, 2], [-2, 0.5, 2], [-2, 0.5, 3], [-1, 0.5, 3], [-1, 0.5, 2], [0, 0.5, 2],
    [0, 0.5, 3], [1, 0.5, 3], [2, 0.5, 3], [2, 0.5, 4], [3, 0.5, 4], [4, 0.5, 4],
    [4, 0.5, 3], [4, 0.5, 2], [3, 0.5, 2], [3, 0.5, 1], [4, 0.5, 1], [3, 0.5, 1],
    [3, 0.5, 2], [3, 0.5, 3], [2, 0.5, 3], [2, 0.5, 4], [2, 0.5, 5],
  ],

  // Case 14 (39 포인트)
  [
    [2, 0.5, 5], [2, 0.5, 4], [1, 0.5, 4], [0, 0.5, 4], [-1, 0.5, 4], [-2, 0.5, 4],
    [-3, 0.5, 4], [-3, 0.5, 3], [-2, 0.5, 3], [-1, 0.5, 3], [0, 0.5, 3], [0, 0.5, 2],
    [-1, 0.5, 2], [-2, 0.5, 2], [-3, 0.5, 2], [-4, 0.5, 2], [-5, 0.5, 2], [-6, 0.5, 2],
    [-6, 0.5, 3], [-6, 0.5, 4], [-6, 0.5, 5], [-5, 0.5, 5], [-5, 0.5, 4], [-4, 0.5, 4],
    [-4, 0.5, 5], [-3, 0.5, 5], [-3, 0.5, 4], [-3, 0.5, 3], [-4, 0.5, 3], [-4, 0.5, 2],
    [-3, 0.5, 2], [-2, 0.5, 2], [-1, 0.5, 2], [0, 0.5, 2], [1, 0.5, 2], [1, 0.5, 3],
    [2, 0.5, 3], [2, 0.5, 4], [2, 0.5, 5],
  ],

  // Case 15 (37 포인트)
  [
    [2, 0.5, 5], [2, 0.5, 4], [2, 0.5, 3], [1, 0.5, 3], [1, 0.5, 2], [1, 0.5, 1],
    [1, 0.5, 0], [0, 0.5, 0], [0, 0.5, 1], [0, 0.5, 2], [-1, 0.5, 2], [-2, 0.5, 2],
    [-2, 0.5, 3], [-1, 0.5, 3], [0, 0.5, 3], [0, 0.5, 4], [-1, 0.5, 4], [-2, 0.5, 4],
    [-2, 0.5, 3], [-2, 0.5, 2], [-3, 0.5, 2], [-3, 0.5, 3], [-4, 0.5, 3], [-5, 0.5, 3],
    [-5, 0.5, 2], [-6, 0.5, 2], [-6, 0.5, 3], [-5, 0.5, 3], [-4, 0.5, 3], [-3, 0.5, 3],
    [-2, 0.5, 3], [-1, 0.5, 3], [0, 0.5, 3], [1, 0.5, 3], [2, 0.5, 3], [2, 0.5, 4],
    [2, 0.5, 5],
  ],

  // Case 16 (43 포인트)
  [
    [2, 0.5, 5], [2, 0.5, 4], [1, 0.5, 4], [0, 0.5, 4], [-1, 0.5, 4], [-1, 0.5, 3],
    [-2, 0.5, 3], [-2, 0.5, 4], [-2, 0.5, 5], [-3, 0.5, 5], [-3, 0.5, 4], [-3, 0.5, 3],
    [-3, 0.5, 2], [-2, 0.5, 2], [-1, 0.5, 2], [-1, 0.5, 3], [-1, 0.5, 4], [-2, 0.5, 4],
    [-2, 0.5, 5], [-3, 0.5, 5], [-4, 0.5, 5], [-5, 0.5, 5], [-6, 0.5, 5], [-6, 0.5, 4],
    [-6, 0.5, 3], [-5, 0.5, 3], [-5, 0.5, 2], [-6, 0.5, 2], [-6, 0.5, 1], [-6, 0.5, 0],
    [-5, 0.5, 0], [-4, 0.5, 0], [-3, 0.5, 0], [-2, 0.5, 0], [-1, 0.5, 0], [0, 0.5, 0],
    [1, 0.5, 0], [1, 0.5, 1], [1, 0.5, 2], [1, 0.5, 3], [2, 0.5, 3], [2, 0.5, 4],
    [2, 0.5, 5],
  ],

  // Case 17 (47 포인트)
  [
    [2, 0.5, 5], [2, 0.5, 4], [3, 0.5, 4], [4, 0.5, 4], [4, 0.5, 3], [5, 0.5, 3],
    [5, 0.5, 4], [6, 0.5, 4], [6, 0.5, 3], [6, 0.5, 2], [6, 0.5, 1], [6, 0.5, 0],
    [6, 0.5, -1], [6, 0.5, -2], [5, 0.5, -2], [5, 0.5, -3], [5, 0.5, -4], [5, 0.5, -5],
    [5, 0.5, -6], [4, 0.5, -6], [3, 0.5, -6], [3, 0.5, -7], [3, 0.5, -6], [4, 0.5, -6],
    [4, 0.5, -7], [5, 0.5, -7], [5, 0.5, -6], [6, 0.5, -6], [6, 0.5, -7], [5, 0.5, -7],
    [6, 0.5, -7], [6, 0.5, -6], [6, 0.5, -5], [6, 0.5, -4], [6, 0.5, -3], [6, 0.5, -2],
    [6, 0.5, -1], [6, 0.5, 0], [6, 0.5, 1], [6, 0.5, 2], [6, 0.5, 3], [5, 0.5, 3],
    [4, 0.5, 3], [3, 0.5, 3], [2, 0.5, 3], [2, 0.5, 4], [2, 0.5, 5],
  ],

  // Case 18 (53 포인트)
  [
    [2, 0.5, 5], [2, 0.5, 4], [1, 0.5, 4], [0, 0.5, 4], [0, 0.5, 3], [0, 0.5, 2],
    [-1, 0.5, 2], [-1, 0.5, 3], [-2, 0.5, 3], [-2, 0.5, 4], [-1, 0.5, 4], [0, 0.5, 4],
    [1, 0.5, 4], [0, 0.5, 4], [0, 0.5, 3], [0, 0.5, 2], [0, 0.5, 1], [0, 0.5, 0],
    [-1, 0.5, 0], [-2, 0.5, 0], [-3, 0.5, 0], [-4, 0.5, 0], [-5, 0.5, 0], [-5, 0.5, -1],
    [-5, 0.5, -2], [-5, 0.5, -3], [-6, 0.5, -3], [-6, 0.5, -2], [-5, 0.5, -2], [-5, 0.5, -1],
    [-6, 0.5, -1], [-6, 0.5, 0], [-6, 0.5, 1], [-6, 0.5, 2], [-5, 0.5, 2], [-5, 0.5, 3],
    [-4, 0.5, 3], [-4, 0.5, 4], [-4, 0.5, 5], [-3, 0.5, 5], [-2, 0.5, 5], [-2, 0.5, 4],
    [-2, 0.5, 3], [-2, 0.5, 2], [-3, 0.5, 2], [-3, 0.5, 3], [-3, 0.5, 4], [-2, 0.5, 4],
    [-1, 0.5, 4], [0, 0.5, 4], [1, 0.5, 4], [2, 0.5, 4], [2, 0.5, 5],
  ],

  // Case 19 (41 포인트)
  [
    [2, 0.5, 5], [2, 0.5, 4], [2, 0.5, 3], [3, 0.5, 3], [3, 0.5, 4], [4, 0.5, 4],
    [4, 0.5, 3], [5, 0.5, 3], [6, 0.5, 3], [6, 0.5, 4], [5, 0.5, 4], [5, 0.5, 3],
    [4, 0.5, 3], [3, 0.5, 3], [2, 0.5, 3], [3, 0.5, 3], [4, 0.5, 3], [4, 0.5, 2],
    [3, 0.5, 2], [3, 0.5, 1], [4, 0.5, 1], [4, 0.5, 0], [3, 0.5, 0], [3, 0.5, 1],
    [3, 0.5, 2], [3, 0.5, 3], [3, 0.5, 4], [2, 0.5, 4], [1, 0.5, 4], [0, 0.5, 4],
    [-1, 0.5, 4], [-1, 0.5, 3], [-1, 0.5, 2], [-2, 0.5, 2], [-2, 0.5, 3], [-2, 0.5, 4],
    [-1, 0.5, 4], [0, 0.5, 4], [1, 0.5, 4], [2, 0.5, 4], [2, 0.5, 5],
  ],

  // Case 20 (49 포인트)
  [
    [2, 0.5, 5], [2, 0.5, 4], [2, 0.5, 3], [3, 0.5, 3], [3, 0.5, 4], [4, 0.5, 4],
    [5, 0.5, 4], [6, 0.5, 4], [6, 0.5, 3], [5, 0.5, 3], [4, 0.5, 3], [4, 0.5, 2],
    [3, 0.5, 2], [3, 0.5, 3], [3, 0.5, 4], [2, 0.5, 4], [2, 0.5, 3], [1, 0.5, 3],
    [0, 0.5, 3], [-1, 0.5, 3], [0, 0.5, 3], [0, 0.5, 2], [0, 0.5, 1], [0, 0.5, 0],
    [-1, 0.5, 0], [-2, 0.5, 0], [-3, 0.5, 0], [-4, 0.5, 0], [-5, 0.5, 0], [-5, 0.5, -1],
    [-5, 0.5, -2], [-5, 0.5, -3], [-6, 0.5, -3], [-6, 0.5, -2], [-6, 0.5, -1], [-6, 0.5, 0],
    [-6, 0.5, 1], [-6, 0.5, 2], [-6, 0.5, 3], [-5, 0.5, 3], [-4, 0.5, 3], [-3, 0.5, 3],
    [-2, 0.5, 3], [-1, 0.5, 3], [0, 0.5, 3], [1, 0.5, 3], [2, 0.5, 3], [2, 0.5, 4],
    [2, 0.5, 5],
  ],
];

// 시간대별 가중치 (각 케이스별 선택 확률)
const TIME_SLOT_WEIGHTS: Record<TimeSlot, number[]> = {
  morning: [1, 1, 2, 1, 1, 3, 1, 1, 3, 2, 3, 1, 1, 2, 1],   // 짧은 경로 선호 (Case 6, 9, 11)
  afternoon: [2, 2, 1, 2, 2, 1, 3, 2, 1, 1, 1, 2, 2, 1, 2], // 긴 경로 선호 (Case 1, 7)
  evening: [1, 1, 2, 2, 2, 2, 1, 2, 2, 2, 2, 2, 2, 2, 2],   // 중간 길이 선호
};

// Entry point (입구 좌표)
export const ENTRY_POINT: [number, number, number] = [2, 0.5, 5];

// Store bounds
export const STORE_BOUNDS = {
  xMin: -7.0,
  xMax: 7.0,
  zMin: -7.0,
  zMax: 5.5,
};

/**
 * 시간 범위에서 시간대 추출
 */
export function getTimeSlotFromRange(timeRange: string): TimeSlot {
  const hour = parseInt(timeRange.split(':')[0].split('-')[0]) || parseInt(timeRange.split('-')[0]) || 12;
  
  if (hour < 12) return 'morning';
  if (hour < 18) return 'afternoon';
  return 'evening';
}

/**
 * 가중치 기반 랜덤 선택
 */
function weightedRandomSelect(weights: number[]): number {
  const totalWeight = weights.reduce((sum, w) => sum + w, 0);
  let random = Math.random() * totalWeight;
  
  for (let i = 0; i < weights.length; i++) {
    random -= weights[i];
    if (random <= 0) return i;
  }
  
  return weights.length - 1;
}

/**
 * 시간대 기반 랜덤 고객 경로 생성
 */
export function generateRandomCustomerPath(timeRange: string): [number, number, number][] {
  const timeSlot = getTimeSlotFromRange(timeRange);
  const weights = TIME_SLOT_WEIGHTS[timeSlot];
  const caseIndex = weightedRandomSelect(weights);
  
  // 선택된 케이스의 경로 복사본 반환
  return [...PATH_CASES[caseIndex]];
}

/**
 * 특정 케이스 경로 가져오기 (1-15)
 */
export function getPathByCase(caseNumber: number): [number, number, number][] {
  const index = Math.max(0, Math.min(caseNumber - 1, PATH_CASES.length - 1));
  return [...PATH_CASES[index]];
}

/**
 * 경로가 계산대에 도달하는지 확인
 * 계산대 위치: z <= -3 영역
 */
export function pathReachesCheckout(path: [number, number, number][]): boolean {
  return path.some(point => point[2] <= -3);
}

/**
 * 총 케이스 개수 반환
 */
export function getTotalCases(): number {
  return PATH_CASES.length;
}
