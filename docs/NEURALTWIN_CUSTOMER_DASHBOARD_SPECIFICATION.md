# ê³ ê°ìš© ëŒ€ì‹œë³´ë“œ ê¸°ëŠ¥ ì •ì˜ì„œ (Customer Dashboard Specification)

## ğŸ“‹ ë¬¸ì„œ ê°œìš”

**í”„ë¡œì íŠ¸ëª…**: NEURALTWIN  
**ë¬¸ì„œ ë²„ì „**: 1.0  
**ì‘ì„±ì¼**: 2025-01-25  
**ëŒ€ìƒ ì—­í• **: ORG_HQ, ORG_STORE, ORG_VIEWER

---

## 1. ê°œìš” (Overview)

### 1.1 ëª©ì 
NEURALTWIN ê³ ê°ìš© ëŒ€ì‹œë³´ë“œëŠ” ë§¤ì¥ ìš´ì˜ ë° ê³ ê° í–‰ë™ ë¶„ì„ì„ ìœ„í•œ í†µí•© ì¸ì‚¬ì´íŠ¸ í”Œë«í¼ì…ë‹ˆë‹¤. ì—­í•  ê¸°ë°˜ ì ‘ê·¼ ì œì–´ë¥¼ í†µí•´ ê° ì‚¬ìš©ìì—ê²Œ ì í•©í•œ ë°ì´í„°ì™€ ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤.

### 1.2 ì£¼ìš” ëª©í‘œ
- ì‹¤ì‹œê°„ ë§¤ì¥ ì„±ê³¼ ëª¨ë‹ˆí„°ë§
- ê³ ê° í–‰ë™ íŒ¨í„´ ë¶„ì„ ë° ì‹œê°í™”
- ë°ì´í„° ê¸°ë°˜ ì˜ì‚¬ê²°ì • ì§€ì›
- 3D Digital Twinì„ í†µí•œ ì§ê´€ì ì¸ ê³µê°„ ë¶„ì„
- AI ê¸°ë°˜ ì¶”ì²œ ë° ì˜ˆì¸¡

---

## 2. ì—­í• ë³„ ì ‘ê·¼ ê¶Œí•œ (Role-Based Access Control)

### 2.1 ì—­í•  ì •ì˜

| ì—­í•  | ë¼ì´ì„¼ìŠ¤ | ì›” ë¹„ìš© | ì„¤ëª… |
|------|----------|---------|------|
| **NEURALTWIN_MASTER** | ì‹œìŠ¤í…œ ê´€ë¦¬ì | - | ì „ì²´ ì‹œìŠ¤í…œ ê´€ë¦¬ ê¶Œí•œ |
| **ORG_HQ** | HQ_SEAT | $500 | ë³¸ì‚¬ ê´€ë¦¬ì, ì „ì²´ ê¸°ëŠ¥ ì ‘ê·¼ ê°€ëŠ¥ |
| **ORG_STORE** | STORE | $250 | ë§¤ì¥ ê´€ë¦¬ì, ë§¤ì¥ë³„ ë¶„ì„ ê¸°ëŠ¥ |
| **ORG_VIEWER** | ë¬´ë£Œ (ì´ˆëŒ€ ì „ìš©) | $0 | ì½ê¸° ì „ìš© ì ‘ê·¼ |

### 2.2 ê¸°ëŠ¥ë³„ ì ‘ê·¼ ê¶Œí•œ ë§¤íŠ¸ë¦­ìŠ¤

| ê¸°ëŠ¥ ì¹´í…Œê³ ë¦¬ | MASTER | ORG_HQ | ORG_STORE | ORG_VIEWER |
|--------------|--------|--------|-----------|------------|
| ë©”ì¸ ëŒ€ì‹œë³´ë“œ | âœ… | âœ… | âœ… | âœ… |
| ë§¤ì¥ ë¶„ì„ | âœ… | âœ… | âœ… | âœ… (ì½ê¸°) |
| ê³ ê° ë¶„ì„ | âœ… | âœ… | âœ… | âœ… (ì½ê¸°) |
| ì œí’ˆ ì„±ê³¼ ë¶„ì„ | âœ… | âœ… | âœ… | âœ… (ì½ê¸°) |
| íŠ¸ë˜í”½ íˆíŠ¸ë§µ | âœ… | âœ… | âœ… | âœ… (ì½ê¸°) |
| ì „í™˜ í¼ë„ | âœ… | âœ… | âœ… | âœ… (ì½ê¸°) |
| ê³ ê° ì—¬ì • | âœ… | âœ… | âœ… | âœ… (ì½ê¸°) |
| Digital Twin 3D | âœ… | âœ… | âœ… | âœ… (ì½ê¸°) |
| ì‹œë®¬ë ˆì´ì…˜ | âœ… | âœ… | âœ… | âŒ |
| ë°ì´í„° ê´€ë¦¬ | âœ… | âœ… | âœ… | âŒ |
| HQ ë™ê¸°í™” | âœ… | âœ… | âŒ | âŒ |
| ì˜¨í†¨ë¡œì§€ ê´€ë¦¬ | âœ… | âœ… | âœ… | âŒ |
| AI ì¶”ì²œ ìƒì„± | âœ… | âœ… | âœ… | âŒ |

### 2.3 ê¸°ë³¸ ë¼ìš°íŒ…

```typescript
ì—­í• ë³„ ê¸°ë³¸ ëŒ€ì‹œë³´ë“œ:
- NEURALTWIN_MASTER: /overview/dashboard
- ORG_HQ: /overview/dashboard
- ORG_STORE: /analysis/store
- ORG_VIEWER: /overview/dashboard
```

---

## 3. ì£¼ìš” ê¸°ëŠ¥ ëª…ì„¸ (Feature Specifications)

### 3.1 ë©”ì¸ ëŒ€ì‹œë³´ë“œ (/overview/dashboard)

#### ê¸°ëŠ¥ ê°œìš”
ì‹¤ì‹œê°„ ë§¤ì¥ ì„±ê³¼ ì§€í‘œì™€ AI ì¶”ì²œì„ í•œëˆˆì— í™•ì¸í•  ìˆ˜ ìˆëŠ” í†µí•© ëŒ€ì‹œë³´ë“œ

#### ì£¼ìš” ì§€í‘œ (KPI Cards)
1. **ì´ ë§¤ì¶œ** (Total Revenue)
   - ë°ì´í„° ì†ŒìŠ¤: `dashboard_kpis.total_revenue`
   - ì „ì¼ ëŒ€ë¹„ ì¦ê°ë¥  í‘œì‹œ
   - í•„í„°: ë‚ ì§œ, ë§¤ì¥

2. **ë°©ë¬¸ì ìˆ˜** (Total Visits)
   - ë°ì´í„° ì†ŒìŠ¤: `dashboard_kpis.total_visits`
   - ì‹œê°„ëŒ€ë³„ ì¶”ì´ ê·¸ë˜í”„
   - ì „í™˜ìœ¨ ì—°ê³„ í‘œì‹œ

3. **ì „í™˜ìœ¨** (Conversion Rate)
   - ë°ì´í„° ì†ŒìŠ¤: `dashboard_kpis.conversion_rate`
   - ê³„ì‚°ì‹: (total_purchases / total_visits) Ã— 100
   - ëª©í‘œ ëŒ€ë¹„ ë‹¬ì„±ë¥ 

4. **í‰ë‹¹ ë§¤ì¶œ** (Sales per SQM)
   - ë°ì´í„° ì†ŒìŠ¤: `dashboard_kpis.sales_per_sqm`
   - ë§¤ì¥ íš¨ìœ¨ì„± ì§€í‘œ
   - ì—…ê³„ í‰ê·  ë¹„êµ

#### ì‹œê°í™” ì»´í¬ë„ŒíŠ¸
1. **ì „í™˜ í¼ë„ (FunnelVisualization)**
   ```
   ìœ ì… â†’ ì²´ë¥˜ â†’ í”¼íŒ… â†’ êµ¬ë§¤ â†’ ì¬ë°©ë¬¸
   ```
   - ê° ë‹¨ê³„ë³„ ê³ ê° ìˆ˜
   - ë‹¨ê³„ê°„ ì „í™˜ìœ¨
   - ë“œë¡­ì˜¤í”„ ë¶„ì„

2. **ë°©ë¬¸ì ì¶”ì´ ì°¨íŠ¸**
   - ì‹œê³„ì—´ ë°ì´í„° (7ì¼/30ì¼)
   - Line Chart ì‚¬ìš©
   - ì‹œê°„ëŒ€ë³„ íŒ¨í„´ ë¶„ì„

3. **ë§¤ì¶œ ì¶”ì´ ì°¨íŠ¸**
   - ì¼ë³„/ì£¼ë³„/ì›”ë³„ ë§¤ì¶œ
   - ëª©í‘œ ë¼ì¸ í‘œì‹œ
   - ì „ë…„ ë™ê¸° ëŒ€ë¹„

#### AI ì¶”ì²œ ì¹´ë“œ (AIRecommendationCard)
- ë°ì´í„° ì†ŒìŠ¤: `ai_recommendations` í…Œì´ë¸”
- ìš°ì„ ìˆœìœ„: High â†’ Medium â†’ Low
- ì¹´í…Œê³ ë¦¬:
  - `inventory`: ì¬ê³  ê´€ë¦¬
  - `layout`: ë§¤ì¥ ë ˆì´ì•„ì›ƒ
  - `pricing`: ê°€ê²© ìµœì í™”
  - `staffing`: ì¸ë ¥ ë°°ì¹˜
  - `marketing`: ë§ˆì¼€íŒ… ì „ëµ
- ì˜ˆìƒ ì„íŒ©íŠ¸ í‘œì‹œ:
  - ë§¤ì¶œ ì¦ê°€ìœ¨
  - ì „í™˜ìœ¨ ê°œì„ 
  - í‰ë‹¹ ë§¤ì¶œ ì¦ê°€

#### ìµœê·¼ ì•Œë¦¼ (Recent Alerts)
- ì¬ê³  ë¶€ì¡± ì•Œë¦¼
- ì´ìƒ íŒ¨í„´ ê°ì§€
- ì‹œìŠ¤í…œ ì•Œë¦¼
- íƒ€ì„ìŠ¤íƒ¬í”„ ë° ìš°ì„ ìˆœìœ„

#### í•„í„° ë° ì§‘ê³„ (DashboardFilters)
1. **ë‚ ì§œ ì„ íƒ**
   - ë‹¨ì¼ ë‚ ì§œ ì„ íƒ
   - ê¸°ë³¸ê°’: ì˜¤ëŠ˜

2. **ê¸°ê°„ ì§‘ê³„**
   - ì‹œì‘ì¼ ~ ì¢…ë£Œì¼ ì„ íƒ
   - ìë™ KPI ì§‘ê³„ ì‹¤í–‰
   - í‰ê· /í•©ê³„ ê³„ì‚°

3. **ë§¤ì¥ ì„ íƒ**
   - ë“œë¡­ë‹¤ìš´ ë°©ì‹
   - ORG_HQ: ì „ì²´ ë§¤ì¥ ì„ íƒ ê°€ëŠ¥
   - ORG_STORE: í• ë‹¹ëœ ë§¤ì¥ë§Œ

---

### 3.2 ë§¤ì¥ ë¶„ì„ (/analysis/store)

#### ê¸°ëŠ¥ ê°œìš”
ë§¤ì¥ë³„ ìƒì„¸ ì„±ê³¼ ë¶„ì„ ë° ë¹„êµ

#### í•µì‹¬ ê¸°ëŠ¥
1. **ë§¤ì¥ ë¹„êµ ë¶„ì„**
   - ì—¬ëŸ¬ ë§¤ì¥ ì„ íƒ ê°€ëŠ¥ (ORG_HQë§Œ)
   - í•µì‹¬ ì§€í‘œ ë¹„êµ í…Œì´ë¸”
   - ìˆœìœ„ í‘œì‹œ

2. **ë§¤ì¥ë³„ ìƒì„¸ ì§€í‘œ**
   - ë§¤ì¶œ, ë°©ë¬¸ì, ì „í™˜ìœ¨
   - ì‹œê°„ëŒ€ë³„ ì„±ê³¼
   - ìš”ì¼ë³„ íŒ¨í„´

3. **ì§€ì—­ë³„ ë¶„ì„**
   - ë°ì´í„° ì†ŒìŠ¤: `regional_data`
   - ì§€ì—­ë³„ ë§¤ì¶œ ë¶„í¬
   - ì¸êµ¬í†µê³„í•™ì  ë°ì´í„° ì—°ê³„

4. **ë‚ ì”¨ ì˜í–¥ ë¶„ì„**
   - ë°ì´í„° ì†ŒìŠ¤: `dashboard_kpis.weather_condition`
   - ë‚ ì”¨ë³„ ë°©ë¬¸ì/ë§¤ì¶œ ìƒê´€ê´€ê³„
   - ì˜ˆì¸¡ ëª¨ë¸ ì ìš©

---

### 3.3 ê³ ê° ë¶„ì„ (/analysis/customer)

#### ê¸°ëŠ¥ ê°œìš”
ê³ ê° ì„¸ê·¸ë¨¼íŠ¸, êµ¬ë§¤ íŒ¨í„´, í˜ë¥´ì†Œë‚˜ ë¶„ì„

#### ì„¸ê·¸ë¨¼íŠ¸ ë¶„ì„
1. **ê³ ê° ì„¸ê·¸ë¨¼íŠ¸**
   - ë°ì´í„° ì†ŒìŠ¤: `customers` í…Œì´ë¸”
   - ì„¸ê·¸ë¨¼íŠ¸ íƒ€ì…:
     - VIP (ì´ êµ¬ë§¤ì•¡ ìƒìœ„ 10%)
     - Regular (ì¬ë°©ë¬¸ 3íšŒ ì´ìƒ)
     - New (ì²« ë°©ë¬¸)
   - ì„¸ê·¸ë¨¼íŠ¸ë³„ ë¹„ìœ¨ ë° íŠ¸ë Œë“œ

2. **êµ¬ë§¤ íŒ¨í„´ ë¶„ì„**
   - RFM ë¶„ì„ (Recency, Frequency, Monetary)
   - ì œí’ˆ ì¹´í…Œê³ ë¦¬ë³„ ì„ í˜¸ë„
   - ì‹œê°„ëŒ€ë³„ êµ¬ë§¤ íŒ¨í„´
   - í‰ê·  êµ¬ë§¤ ê¸ˆì•¡

3. **í˜ë¥´ì†Œë‚˜ ë¶„ì„**
   - ì—°ë ¹ëŒ€ë³„ ë¶„í¬
   - ì„±ë³„ ë¶„í¬
   - ë°©ë¬¸ ì‹œê°„ëŒ€ ì„ í˜¸ë„
   - ìœ ì… ì±„ë„ë³„ ë¶„ì„

#### ì‹œê°í™”
- Pie Chart: ì„¸ê·¸ë¨¼íŠ¸ ë¶„í¬
- Bar Chart: êµ¬ë§¤ íŒ¨í„´
- Radar Chart: í˜ë¥´ì†Œë‚˜ íŠ¹ì„±
- Heatmap: ì‹œê°„ëŒ€ë³„ í™œë™

---

### 3.4 ì œí’ˆ ì„±ê³¼ ë¶„ì„ (/analysis/product)

#### ê¸°ëŠ¥ ê°œìš”
ì œí’ˆë³„ íŒë§¤ ì„±ê³¼ ë° ì¬ê³  ê´€ë¦¬

#### í•µì‹¬ ì§€í‘œ
1. **ì œí’ˆë³„ íŒë§¤ ì„±ê³¼**
   - ë°ì´í„° ì†ŒìŠ¤: `products`, `user_purchases`
   - íŒë§¤ëŸ‰, ë§¤ì¶œ, ë§ˆì§„
   - ì¬ê³  íšŒì „ìœ¨
   - í’ˆì ˆ ìœ„í—˜ë„

2. **ì¹´í…Œê³ ë¦¬ë³„ ë¶„ì„**
   - ì¹´í…Œê³ ë¦¬ë³„ ë§¤ì¶œ ë¹„ì¤‘
   - Pie Chart ì‹œê°í™”
   - ì„±ì¥ë¥  ë¶„ì„

3. **Top ì œí’ˆ ë¶„ì„**
   - ë§¤ì¶œ ìƒìœ„ 5ê°œ ì œí’ˆ
   - Bar Chart ì‹œê°í™”
   - ì¬ê³  ìƒíƒœ í‘œì‹œ

4. **ì¬ê³  í˜„í™©**
   - ë°ì´í„° ì†ŒìŠ¤: `inventory_levels`
   - í˜„ì¬ ì¬ê³  / ìµœì  ì¬ê³ 
   - ì•ˆì „ ì¬ê³  ì´í•˜ ì•Œë¦¼
   - ìë™ ë°œì£¼ ì œì•ˆ

#### ì¬ê³  ê´€ë¦¬ ê¸°ëŠ¥
- Progress Bar: ì¬ê³  ìˆ˜ì¤€ ì‹œê°í™”
- ìƒ‰ìƒ ì½”ë”©:
  - ğŸŸ¢ Green: ì¶©ë¶„ (80% ì´ìƒ)
  - ğŸŸ¡ Yellow: ì£¼ì˜ (50-80%)
  - ğŸ”´ Red: ë¶€ì¡± (50% ì´í•˜)

---

### 3.5 íŠ¸ë˜í”½ íˆíŠ¸ë§µ (/analysis/traffic-heatmap)

#### ê¸°ëŠ¥ ê°œìš”
ë§¤ì¥ ë‚´ ê³ ê° ì´ë™ íŒ¨í„´ ë° ì²´ë¥˜ ì‹œê°„ ì‹œê°í™”

#### ë°ì´í„° ì†ŒìŠ¤
- `wifi_tracking_data`: Wi-Fi í”„ë¡œë¸Œ ë°ì´í„°
- `zone_transitions`: êµ¬ì—­ ì „í™˜ ë°ì´í„°
- `dwell_time`: ì²´ë¥˜ ì‹œê°„ ë°ì´í„°

#### ì‹œê°í™” ì˜µì…˜
1. **2D íˆíŠ¸ë§µ**
   - ë§¤ì¥ í‰ë©´ë„ ìœ„ì— ì˜¤ë²„ë ˆì´
   - ìƒ‰ìƒ ê°•ë„: ë°©ë¬¸ ë¹ˆë„
   - ì‹œê°„ëŒ€ë³„ í•„í„°

2. **êµ¬ì—­ë³„ ë¶„ì„**
   - ë°ì´í„° ì†ŒìŠ¤: `stores.zones_metadata`
   - êµ¬ì—­ë³„ ë°©ë¬¸ì ìˆ˜
   - í‰ê·  ì²´ë¥˜ ì‹œê°„
   - ì „í™˜ìœ¨

3. **ì´ë™ ê²½ë¡œ ë¶„ì„**
   - ì£¼ìš” ì´ë™ íŒ¨í„´ ì‹ë³„
   - ë³‘ëª© êµ¬ê°„ ë¶„ì„
   - ìµœì  ë™ì„  ì œì•ˆ

#### í•„í„°ë§
- ë‚ ì§œ/ì‹œê°„ëŒ€
- ìš”ì¼
- ê³ ê° ì„¸ê·¸ë¨¼íŠ¸

---

### 3.6 ì „í™˜ í¼ë„ (/analysis/conversion-funnel)

#### ê¸°ëŠ¥ ê°œìš”
ê³ ê° ì—¬ì •ì˜ ê° ë‹¨ê³„ë³„ ì „í™˜ìœ¨ ë¶„ì„

#### í¼ë„ ë‹¨ê³„
```
1. ìœ ì… (Entry) - ë§¤ì¥ ì…ì¥
2. ì²´ë¥˜ (Browse) - ì œí’ˆ íƒìƒ‰
3. í”¼íŒ… (Fitting) - ì‹œì°©/ì²´í—˜
4. êµ¬ë§¤ (Purchase) - ê²°ì œ
5. ì¬ë°©ë¬¸ (Return) - ì¬ë°©ë¬¸
```

#### ë°ì´í„° ì†ŒìŠ¤
- `funnel_metrics` í…Œì´ë¸”
- ë‹¨ê³„ë³„ count, duration_seconds

#### ë¶„ì„ ì§€í‘œ
1. **ë‹¨ê³„ë³„ ì „í™˜ìœ¨**
   - ê³„ì‚°ì‹: (ë‹¤ìŒ ë‹¨ê³„ ìˆ˜ / í˜„ì¬ ë‹¨ê³„ ìˆ˜) Ã— 100
   - ë“œë¡­ì˜¤í”„ ì§€ì  ì‹ë³„

2. **ì„¸ê·¸ë¨¼íŠ¸ë³„ í¼ë„**
   - ë°ì´í„° ì†ŒìŠ¤: `funnel_metrics.customer_segment`
   - VIP vs Regular vs New ë¹„êµ

3. **ì‹œê°„ëŒ€ë³„ í¼ë„**
   - ì‹œê°„ëŒ€ë³„ ì „í™˜ìœ¨ ë³€í™”
   - ìµœì  ì‹œê°„ëŒ€ ì‹ë³„

#### ì‹œê°í™”
- í¼ë„ ì°¨íŠ¸ (Funnel Visualization)
- ê° ë‹¨ê³„ ë„ˆë¹„: ê³ ê° ìˆ˜ ë¹„ë¡€
- ìƒ‰ìƒ ì½”ë”©: ì „í™˜ìœ¨ ê¸°ë°˜

---

### 3.7 ê³ ê° ì—¬ì • (/analysis/customer-journey)

#### ê¸°ëŠ¥ ê°œìš”
ê°œë³„ ê³ ê°ì˜ ë§¤ì¥ ë‚´ ì „ì²´ ì—¬ì • ì¶”ì  ë° ë¶„ì„

#### ë°ì´í„° ì†ŒìŠ¤
- `wifi_tracking_data`
- `zone_transitions`
- `user_purchases`
- `dwell_time`

#### í•µì‹¬ ê¸°ëŠ¥
1. **ê°œë³„ ê³ ê° ì¶”ì **
   - MAC ì£¼ì†Œ ê¸°ë°˜ ìµëª… ì¶”ì 
   - ì…ì¥ â†’ ì´ë™ â†’ êµ¬ë§¤ â†’ í‡´ì¥
   - íƒ€ì„ë¼ì¸ ì‹œê°í™”

2. **ì£¼ìš” ì—¬ì • íŒ¨í„´**
   - êµ¬ë§¤ ê³ ê° vs ë¹„êµ¬ë§¤ ê³ ê°
   - ìµœë‹¤ ë°©ë¬¸ êµ¬ì—­
   - í‰ê·  ì²´ë¥˜ ì‹œê°„

3. **í„°ì¹˜í¬ì¸íŠ¸ ë¶„ì„**
   - ì œí’ˆ ì ‘ì´‰ ì§€ì 
   - ì§ì› ìƒí˜¸ì‘ìš© ì§€ì 
   - ì˜ì‚¬ê²°ì • ì§€ì 

#### ì‹œê°í™”
- Sankey Diagram: ì—¬ì • íë¦„
- Timeline: ì‹œê°„ìˆœ ì´ë²¤íŠ¸
- Path Chart: ì´ë™ ê²½ë¡œ

---

### 3.8 Digital Twin 3D (/digital-twin/3d)

#### ê¸°ëŠ¥ ê°œìš”
ë§¤ì¥ì„ 3Dë¡œ ì‹œê°í™”í•˜ê³  ì‹¤ì‹œê°„ ë°ì´í„°ë¥¼ ì˜¤ë²„ë ˆì´

#### 3D ëª¨ë¸ë§
- 3D íŒŒì¼ í˜•ì‹: GLB, GLTF
- ë°ì´í„° ì†ŒìŠ¤: Supabase Storage (3d_models ë²„í‚·)
- ë ˆì´ì–´ ì‹œìŠ¤í…œ:
  - Base: ë§¤ì¥ êµ¬ì¡°
  - Furniture: ê°€êµ¬/ì§‘ê¸°
  - Products: ì œí’ˆ ë°°ì¹˜
  - Zones: êµ¬ì—­ ê²½ê³„

#### ì‹¤ì‹œê°„ ì˜¤ë²„ë ˆì´
1. **ê³ ê° ì•„ë°”íƒ€ (RealtimeCustomerOverlay)**
   - Supabase Realtime Presence ì‚¬ìš©
   - ì‹¤ì‹œê°„ ìœ„ì¹˜ ì¶”ì 
   - ìƒ‰ìƒ ì½”ë”©:
     - ğŸ”µ Blue: Browsing
     - ğŸŸ¢ Green: Purchasing
     - ğŸ”´ Red: Leaving

2. **íˆíŠ¸ë§µ ì˜¤ë²„ë ˆì´ (HeatmapOverlay3D)**
   - ë°©ë¬¸ ë¹ˆë„ ì‹œê°í™”
   - íˆ¬ëª…ë„ë¡œ ê°•ë„ í‘œí˜„

3. **WiFi ì¶”ì  ì˜¤ë²„ë ˆì´ (WiFiTrackingOverlay)**
   - ì„¼ì„œ ìœ„ì¹˜ í‘œì‹œ
   - ì‹ í˜¸ ê°•ë„ ì‹œê°í™”

4. **êµ¬ì—­ ê²½ê³„ (ZoneBoundaryOverlay)**
   - ë°ì´í„° ì†ŒìŠ¤: `stores.zones_metadata`
   - 3D ê²½ê³„ì„  í‘œì‹œ
   - êµ¬ì—­ë³„ í†µê³„

5. **ì œí’ˆ ì •ë³´ (ProductInfoOverlay)**
   - 3D ëª¨ë¸ ìœ„ì— ì œí’ˆ ì •ë³´ í‘œì‹œ
   - í´ë¦­ ì‹œ ìƒì„¸ ì •ë³´

#### ì¡°ì‘ ê¸°ëŠ¥
- ì¹´ë©”ë¼ íšŒì „/í™•ëŒ€/ì¶•ì†Œ
- ë ˆì´ì–´ í† ê¸€ (On/Off)
- ì‹œê°„ ìŠ¤í¬ëŸ¬ë¹™ (ê³¼ê±° ë°ì´í„° ì¬ìƒ)
- ìŠ¤í¬ë¦°ìƒ· ì €ì¥

#### ì„±ëŠ¥ ìµœì í™”
- LOD (Level of Detail)
- Instancing for avatars
- Frustum Culling
- Texture Compression

---

### 3.9 ì‹œë®¬ë ˆì´ì…˜ (Simulation)

#### ì ‘ê·¼ ê¶Œí•œ
- ORG_HQ: âœ…
- ORG_STORE: âœ…
- ORG_VIEWER: âŒ

#### ì‹œë®¬ë ˆì´ì…˜ íƒ€ì…

##### 3.9.1 ë ˆì´ì•„ì›ƒ ì‹œë®¬ë ˆì´ì…˜ (/simulation/layout)
- **ëª©ì **: ë§¤ì¥ ë ˆì´ì•„ì›ƒ ë³€ê²½ ì‹œ ì˜í–¥ ì˜ˆì¸¡
- **íŒŒë¼ë¯¸í„°**:
  - ê°€êµ¬ ë°°ì¹˜ ë³€ê²½
  - êµ¬ì—­ í¬ê¸° ì¡°ì •
  - ë™ì„  ìµœì í™”
- **ê²°ê³¼**:
  - ì˜ˆìƒ ë°©ë¬¸ì íë¦„
  - ì „í™˜ìœ¨ ë³€í™”
  - í‰ë‹¹ ë§¤ì¶œ ë³€í™”
- **Before/After ë¹„êµ** (BeforeAfterSceneComparison)

##### 3.9.2 ê°€ê²© ì‹œë®¬ë ˆì´ì…˜ (/simulation/pricing)
- **ëª©ì **: ê°€ê²© ë³€ê²½ì— ë”°ë¥¸ ë§¤ì¶œ ì˜í–¥ ì˜ˆì¸¡
- **íŒŒë¼ë¯¸í„°**:
  - ì œí’ˆë³„ ê°€ê²© ì¡°ì • (%)
  - í”„ë¡œëª¨ì…˜ ì‹œë‚˜ë¦¬ì˜¤
  - ê²½ìŸì‚¬ ê°€ê²© ê³ ë ¤
- **ê²°ê³¼**:
  - ì˜ˆìƒ ë§¤ì¶œ ë³€í™”
  - ìˆ˜ìš” íƒ„ë ¥ì„±
  - ìµœì  ê°€ê²©ì 

##### 3.9.3 ìˆ˜ìš” ì˜ˆì¸¡ (/simulation/demand-inventory)
- **ëª©ì **: ë¯¸ë˜ ìˆ˜ìš” ì˜ˆì¸¡ ë° ì¬ê³  ìµœì í™”
- **íŒŒë¼ë¯¸í„°**:
  - ì˜ˆì¸¡ ê¸°ê°„
  - ê³„ì ˆì„± ê³ ë ¤
  - í”„ë¡œëª¨ì…˜ ê³„íš
- **ê²°ê³¼**:
  - ì œí’ˆë³„ ì˜ˆìƒ ìˆ˜ìš”
  - ìµœì  ì¬ê³  ìˆ˜ì¤€
  - ë°œì£¼ ì œì•ˆ

##### 3.9.4 ì¶”ì²œ ì‹œë®¬ë ˆì´ì…˜ (/simulation/recommendation)
- **ëª©ì **: AI ì¶”ì²œ ì‹œìŠ¤í…œ íš¨ê³¼ ì˜ˆì¸¡
- **íŒŒë¼ë¯¸í„°**:
  - ì¶”ì²œ ì•Œê³ ë¦¬ì¦˜ ì„ íƒ
  - íƒ€ê²Ÿ ì„¸ê·¸ë¨¼íŠ¸
  - ì¶”ì²œ ìœ„ì¹˜
- **ê²°ê³¼**:
  - ì˜ˆìƒ ì¶”ê°€ ë§¤ì¶œ
  - êµì°¨ íŒë§¤ìœ¨
  - ROI

#### ê³µí†µ ê¸°ëŠ¥
- **ì‹œë‚˜ë¦¬ì˜¤ ì €ì¥** (ScenarioSaveDialog)
  - ë°ì´í„° ì†ŒìŠ¤: `scenarios` í…Œì´ë¸”
  - ì‹œë‚˜ë¦¬ì˜¤ëª…, ì„¤ëª…, íŒŒë¼ë¯¸í„° ì €ì¥
- **ì‹œë‚˜ë¦¬ì˜¤ ë¶ˆëŸ¬ì˜¤ê¸°** (ScenarioList)
- **KPI ë¹„êµ** (KpiDeltaChart)
  - Before vs After
  - Delta ê°’ ë° í¼ì„¼íŠ¸
- **ì‹ ë¢°ë„ í‘œì‹œ** (ConfidenceIndicator)
  - AI ì˜ˆì¸¡ ì‹ ë¢°ë„ ì ìˆ˜

---

### 3.10 ë°ì´í„° ê´€ë¦¬ (Data Management)

#### ì ‘ê·¼ ê¶Œí•œ
- ORG_HQ: âœ… (ì „ì²´)
- ORG_STORE: âœ… (ì œí•œì )
- ORG_VIEWER: âŒ

#### 3.10.1 í†µí•© ë°ì´í„° ì—…ë¡œë“œ (/data/import)

##### UnifiedDataUpload ì»´í¬ë„ŒíŠ¸
- **ì§€ì› í˜•ì‹**: CSV, XLSX
- **ë°ì´í„° íƒ€ì…**:
  - Store Layout (ë§¤ì¥ êµ¬ì¡°)
  - Sales (ë§¤ì¶œ ë°ì´í„°)
  - Customers (ê³ ê° ë°ì´í„°)
  - Products (ì œí’ˆ ë°ì´í„°)
  - Inventory (ì¬ê³  ë°ì´í„°)
  - WiFi Tracking (Wi-Fi ì¶”ì )
  - Funnel Metrics (í¼ë„ ì§€í‘œ)
  - Dashboard KPIs (ëŒ€ì‹œë³´ë“œ KPI)

##### ì—…ë¡œë“œ í”„ë¡œì„¸ìŠ¤
1. **íŒŒì¼ ì„ íƒ ë° ê²€ì¦**
   - íŒŒì¼ í¬ê¸° ì œí•œ: 10MB
   - í˜•ì‹ ê²€ì¦
   - ë¯¸ë¦¬ë³´ê¸°

2. **ìŠ¤í‚¤ë§ˆ ë§¤í•‘** (SchemaMapper)
   - ìë™ ì»¬ëŸ¼ ë§¤ì¹­
   - ìˆ˜ë™ ë§¤í•‘ ì˜µì…˜
   - ì˜¨í†¨ë¡œì§€ ê¸°ë°˜ ë§¤í•‘

3. **ë°ì´í„° ê²€ì¦** (DataValidation)
   - í•„ìˆ˜ ì»¬ëŸ¼ ì²´í¬
   - ë°ì´í„° íƒ€ì… ê²€ì¦
   - ë²”ìœ„ ê²€ì¦
   - ì¤‘ë³µ ì²´í¬

4. **ë³€í™˜ ë° ì €ì¥**
   - Edge Function: `integrated-data-pipeline`
   - ë°°ì¹˜ ì²˜ë¦¬
   - ì—ëŸ¬ ë¡œê¹…

##### ì—…ë¡œë“œ ì´ë ¥ (DataImportHistory)
- ë°ì´í„° ì†ŒìŠ¤: `user_data_imports`
- í‘œì‹œ ì •ë³´:
  - íŒŒì¼ëª…, íƒ€ì…
  - ì—…ë¡œë“œ ì‹œê°„
  - ì²˜ë¦¬ëœ ë ˆì½”ë“œ ìˆ˜
  - ì—ëŸ¬ ê±´ìˆ˜
  - ìƒíƒœ (ì„±ê³µ/ì‹¤íŒ¨/ì²˜ë¦¬ì¤‘)

##### ë°ì´í„° í†µê³„ (DataStatistics)
- í…Œì´ë¸”ë³„ ë ˆì½”ë“œ ìˆ˜
- ìµœê·¼ ì—…ë°ì´íŠ¸ ì‹œê°„
- ë°ì´í„° ì»¤ë²„ë¦¬ì§€

#### 3.10.2 ì˜¨í†¨ë¡œì§€ ê´€ë¦¬ (/data/ontology)

##### ìŠ¤í‚¤ë§ˆ ë¹Œë” (SchemaBuilderPage)
- **ì—”í‹°í‹° íƒ€ì… ê´€ë¦¬** (EntityTypeManager)
  - ë°ì´í„° ì†ŒìŠ¤: `ontology_entity_types`
  - ìƒì„±/ìˆ˜ì •/ì‚­ì œ
  - ì†ì„± ì •ì˜
  - 3D ëª¨ë¸ ë§¤í•‘

- **ê´€ê³„ íƒ€ì… ê´€ë¦¬** (RelationTypeManager)
  - ë°ì´í„° ì†ŒìŠ¤: `ontology_relation_types`
  - Source â†’ Target ì •ì˜
  - ë°©í–¥ì„± ì„¤ì •
  - ì†ì„± ì •ì˜

- **ìŠ¤í‚¤ë§ˆ ë²„ì „ ê´€ë¦¬** (SchemaVersionManager)
  - ë°ì´í„° ì†ŒìŠ¤: `ontology_schema_versions`
  - ë²„ì „ ìƒì„±
  - ë¡¤ë°± ê¸°ëŠ¥

##### ê·¸ë˜í”„ ë¶„ì„ (GraphAnalysisPage)
- **ê·¸ë˜í”„ ì‹œê°í™”** (SchemaGraphVisualization)
  - D3-force ê¸°ë°˜
  - ë…¸ë“œ: ì—”í‹°í‹°
  - ì—£ì§€: ê´€ê³„
  - ì¸í„°ë™í‹°ë¸Œ ì¡°ì‘

- **ì¿¼ë¦¬ ë¹Œë”** (GraphQueryBuilder)
  - ê·¸ë˜í”„ ì¿¼ë¦¬ ì‘ì„±
  - ê²½ë¡œ íƒìƒ‰
  - íŒ¨í„´ ë§¤ì¹­

#### 3.10.3 API ì—°ë™ (/data/api)

##### API ì—°ê²° ê´€ë¦¬
- ë°ì´í„° ì†ŒìŠ¤: `api_connections`
- ì§€ì› ì¸ì¦:
  - API Key
  - Bearer Token
  - OAuth 2.0
- ì—°ê²° í…ŒìŠ¤íŠ¸
- ë™ê¸°í™” ìŠ¤ì¼€ì¤„

##### ì™¸ë¶€ ë°ì´í„° ì†ŒìŠ¤
- ë°ì´í„° ì†ŒìŠ¤: `external_data_sources`
- íƒ€ì…:
  - ERP ì‹œìŠ¤í…œ
  - POS ì‹œìŠ¤í…œ
  - CRM ì‹œìŠ¤í…œ
  - ë‚ ì”¨ API
  - ê²½ì œ ì§€í‘œ API

##### ë™ê¸°í™” ìŠ¤ì¼€ì¤„
- ë°ì´í„° ì†ŒìŠ¤: `data_sync_schedules`
- Cron í‘œí˜„ì‹ ì„¤ì •
- ìë™ ì‹¤í–‰
- ë¡œê·¸ ê´€ë¦¬ (`data_sync_logs`)

#### 3.10.4 NeuralSense ì„¤ì • (/data/neuralsense)

##### ë””ë°”ì´ìŠ¤ ê´€ë¦¬
- ë°ì´í„° ì†ŒìŠ¤: `neuralsense_devices`
- Raspberry Pi ê¸°ë°˜ ì„¼ì„œ
- ë””ë°”ì´ìŠ¤ ë“±ë¡/ì‚­ì œ
- ìƒíƒœ ëª¨ë‹ˆí„°ë§ (ì˜¨ë¼ì¸/ì˜¤í”„ë¼ì¸)
- ìœ„ì¹˜ ì„¤ì •

##### WiFi ë°ì´í„° ì—…ë¡œë“œ
- CSV ì—…ë¡œë“œ
- ì‹¤ì‹œê°„ ìŠ¤íŠ¸ë¦¬ë° (MQTT)
- ë°ì´í„° ì „ì²˜ë¦¬
- MAC ì£¼ì†Œ ìµëª…í™”

---

### 3.11 HQ ë™ê¸°í™” (/data/hq-sync)

#### ì ‘ê·¼ ê¶Œí•œ
- ORG_HQ: âœ…
- ê¸°íƒ€: âŒ

#### ê¸°ëŠ¥ ê°œìš”
ë³¸ì‚¬ ë§ˆìŠ¤í„° ë°ì´í„°ì™€ ê° ë§¤ì¥ ë°ì´í„° ë™ê¸°í™”

#### ë§ˆìŠ¤í„° ë°ì´í„°
- ë°ì´í„° ì†ŒìŠ¤: `hq_store_master`
- ë§¤ì¥ ì½”ë“œ, ë§¤ì¥ëª…
- ì£¼ì†Œ, ë©´ì 
- ê´€ë¦¬ì ì •ë³´
- ì™¸ë¶€ ì‹œìŠ¤í…œ ì—°ë™

#### ë™ê¸°í™” í”„ë¡œì„¸ìŠ¤
1. **ë§¤ì¥ ì„ íƒ**
   - ë§ˆìŠ¤í„° ë§¤ì¥ ëª©ë¡ ì¡°íšŒ
   - ë™ê¸°í™”í•  ë§¤ì¥ ì„ íƒ

2. **ë™ê¸°í™” ì‹¤í–‰**
   - Edge Function: `sync-hq-stores`
   - ë°°ì¹˜ ì²˜ë¦¬
   - ì¤‘ë³µ ì²´í¬

3. **ë™ê¸°í™” ë¡œê·¸**
   - ë°ì´í„° ì†ŒìŠ¤: `hq_sync_logs`
   - ì„±ê³µ/ì‹¤íŒ¨ ê¸°ë¡
   - ì—ëŸ¬ ë©”ì‹œì§€

#### ìë™ ë™ê¸°í™”
- ìŠ¤ì¼€ì¤„ ì„¤ì • (ì¼/ì£¼/ì›”)
- ë³€ê²½ ê°ì§€ ìë™ ë™ê¸°í™”

---

## 4. ë°ì´í„° ì•„í‚¤í…ì²˜ (Data Architecture)

### 4.1 í•µì‹¬ í…Œì´ë¸”

#### ì¡°ì§ ë° ì‚¬ìš©ì
- `organizations`: ì¡°ì§ ì •ë³´
- `organization_members`: ë©¤ë²„ì‹­ ë° ì—­í• 
- `licenses`: ë¼ì´ì„¼ìŠ¤ ì •ë³´
- `subscriptions`: êµ¬ë… ì •ë³´

#### ë§¤ì¥ ë° ê³µê°„
- `stores`: ë§¤ì¥ ê¸°ë³¸ ì •ë³´
  - `zones_metadata`: êµ¬ì—­ ì •ë³´ (JSON)
  - `model_3d_metadata`: 3D ëª¨ë¸ ë©”íƒ€ë°ì´í„° (JSON)
- `store_scenes`: 3D ì”¬ ì €ì¥

#### ê³ ê° ë° íŠ¸ë˜í‚¹
- `customers`: ê³ ê° ì •ë³´
- `wifi_tracking_data`: Wi-Fi ì¶”ì  ì›ì‹œ ë°ì´í„°
- `zone_transitions`: êµ¬ì—­ ì „í™˜ ì´ë²¤íŠ¸
- `dwell_time`: ì²´ë¥˜ ì‹œê°„

#### ì„±ê³¼ ì§€í‘œ
- `dashboard_kpis`: ì¼ë³„ í†µí•© KPI
- `funnel_metrics`: í¼ë„ ë‹¨ê³„ë³„ ì§€í‘œ
- `user_purchases`: êµ¬ë§¤ ì´ë ¥

#### ì œí’ˆ ë° ì¬ê³ 
- `products`: ì œí’ˆ ì •ë³´
- `inventory_levels`: ì¬ê³  ìˆ˜ì¤€
- `auto_order_suggestions`: ìë™ ë°œì£¼ ì œì•ˆ

#### ì˜¨í†¨ë¡œì§€
- `ontology_entity_types`: ì—”í‹°í‹° íƒ€ì… ì •ì˜
- `ontology_relation_types`: ê´€ê³„ íƒ€ì… ì •ì˜
- `graph_entities`: ì—”í‹°í‹° ì¸ìŠ¤í„´ìŠ¤
- `graph_relations`: ê´€ê³„ ì¸ìŠ¤í„´ìŠ¤
- `ontology_schema_versions`: ìŠ¤í‚¤ë§ˆ ë²„ì „

#### AI ë° ë¶„ì„
- `ai_recommendations`: AI ì¶”ì²œ
- `ai_scene_analysis`: ì”¬ ë¶„ì„ ê²°ê³¼
- `analysis_history`: ë¶„ì„ ì´ë ¥
- `scenarios`: ì‹œë®¬ë ˆì´ì…˜ ì‹œë‚˜ë¦¬ì˜¤

#### ì™¸ë¶€ ì—°ë™
- `api_connections`: API ì—°ê²° ì •ë³´
- `external_data_sources`: ì™¸ë¶€ ë°ì´í„° ì†ŒìŠ¤
- `data_sync_schedules`: ë™ê¸°í™” ìŠ¤ì¼€ì¤„
- `data_sync_logs`: ë™ê¸°í™” ë¡œê·¸

### 4.2 ë°ì´í„° íë¦„

```
1. ë°ì´í„° ìˆ˜ì§‘
   â†’ WiFi ì„¼ì„œ / POS / ìˆ˜ë™ ì—…ë¡œë“œ
   
2. ë°ì´í„° ì €ì¥
   â†’ Supabase PostgreSQL
   
3. ë°ì´í„° ì²˜ë¦¬
   â†’ Edge Functions (ETL, ì§‘ê³„, AI)
   
4. ë°ì´í„° ì‹œê°í™”
   â†’ React ì»´í¬ë„ŒíŠ¸ (Chart, 3D, Table)
   
5. ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸
   â†’ Supabase Realtime
```

---

## 5. UI/UX ë””ìì¸ ê°€ì´ë“œ

### 5.1 ë””ìì¸ ì‹œìŠ¤í…œ

#### ì»¬ëŸ¬ íŒ”ë ˆíŠ¸
```css
/* Primary Colors */
--primary: HSL(230, 70%, 55%);
--primary-foreground: HSL(0, 0%, 100%);

/* Secondary Colors */
--secondary: HSL(220, 15%, 20%);
--secondary-foreground: HSL(0, 0%, 100%);

/* Accent Colors */
--accent: HSL(280, 80%, 60%);
--accent-foreground: HSL(0, 0%, 100%);

/* Semantic Colors */
--success: HSL(142, 70%, 45%);
--warning: HSL(38, 92%, 50%);
--error: HSL(0, 84%, 60%);
--info: HSL(199, 89%, 48%);
```

#### íƒ€ì´í¬ê·¸ë˜í”¼
- Font Family: `Inter, sans-serif`
- Heading: Bold, 24-48px
- Body: Regular, 14-16px
- Caption: Regular, 12-14px

#### ê°„ê²© (Spacing)
- xs: 4px
- sm: 8px
- md: 16px
- lg: 24px
- xl: 32px
- 2xl: 48px

### 5.2 ì»´í¬ë„ŒíŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬

#### shadcn/ui ê¸°ë°˜
- Card
- Button
- Table
- Chart (Recharts)
- Dialog
- Dropdown Menu
- Tabs
- Badge
- Progress

#### ì»¤ìŠ¤í…€ ì»´í¬ë„ŒíŠ¸
- StatCard: KPI ì¹´ë“œ
- FunnelVisualization: í¼ë„ ì°¨íŠ¸
- AIRecommendationCard: AI ì¶”ì²œ ì¹´ë“œ
- DashboardFilters: í•„í„° ì»´í¬ë„ŒíŠ¸

### 5.3 ë°˜ì‘í˜• ë””ìì¸

#### ë¸Œë ˆì´í¬í¬ì¸íŠ¸
```css
sm: 640px   /* Mobile */
md: 768px   /* Tablet */
lg: 1024px  /* Desktop */
xl: 1280px  /* Large Desktop */
2xl: 1536px /* Extra Large */
```

#### ë ˆì´ì•„ì›ƒ ì „ëµ
- Mobile: ë‹¨ì¼ ì»¬ëŸ¼, ìŠ¤íƒ ë ˆì´ì•„ì›ƒ
- Tablet: 2ì»¬ëŸ¼ ê·¸ë¦¬ë“œ
- Desktop: 3-4ì»¬ëŸ¼ ê·¸ë¦¬ë“œ, ì‚¬ì´ë“œë°”

---

## 6. ì„±ëŠ¥ ìµœì í™”

### 6.1 í”„ë¡ íŠ¸ì—”ë“œ

#### React Query
- ì¿¼ë¦¬ ìºì‹± (staleTime: 5ë¶„)
- ë°±ê·¸ë¼ìš´ë“œ ì¬íŒ¨ì¹­
- ë‚™ê´€ì  ì—…ë°ì´íŠ¸

#### ì½”ë“œ ë¶„í• 
```typescript
const DigitalTwin3DPage = lazy(() => import('./features/digital-twin/pages/DigitalTwin3DPage'));
```

#### ì´ë¯¸ì§€ ìµœì í™”
- WebP í¬ë§· ì‚¬ìš©
- Lazy Loading
- Responsive Images

### 6.2 ë°±ì—”ë“œ

#### ë°ì´í„°ë² ì´ìŠ¤ ì¸ë±ì‹±
```sql
CREATE INDEX idx_dashboard_kpis_date ON dashboard_kpis(date, store_id);
CREATE INDEX idx_wifi_tracking_timestamp ON wifi_tracking_data(timestamp);
```

#### Edge Function ìµœì í™”
- ì—°ê²° í’€ë§
- ë°°ì¹˜ ì²˜ë¦¬
- ìºì‹± (Redis)

### 6.3 3D ë Œë”ë§

#### Three.js ìµœì í™”
- Geometry Instancing
- Texture Atlasing
- LOD (Level of Detail)
- Frustum Culling

---

## 7. ë³´ì•ˆ ë° ê¶Œí•œ

### 7.1 Row Level Security (RLS)

#### ëª¨ë“  í…Œì´ë¸”ì— RLS ì ìš©
```sql
ALTER TABLE dashboard_kpis ENABLE ROW LEVEL SECURITY;

CREATE POLICY "Users can view own org data"
  ON dashboard_kpis
  FOR SELECT
  USING (
    org_id IN (
      SELECT org_id FROM organization_members WHERE user_id = auth.uid()
    )
  );
```

### 7.2 API ë³´ì•ˆ

#### JWT ì¸ì¦
- Supabase Auth ì‚¬ìš©
- í† í° ìë™ ê°±ì‹ 
- ë§Œë£Œ ì‹œê°„: 1ì‹œê°„

#### CORS ì„¤ì •
```typescript
const corsHeaders = {
  'Access-Control-Allow-Origin': '*',
  'Access-Control-Allow-Headers': 'authorization, x-client-info, apikey, content-type',
};
```

### 7.3 ë°ì´í„° ì•”í˜¸í™”

#### ì „ì†¡ ì•”í˜¸í™”
- HTTPS/TLS 1.3

#### ì €ì¥ ì•”í˜¸í™”
- PostgreSQL Transparent Data Encryption (TDE)
- Supabase Vault for secrets

---

## 8. Edge Functions

### 8.1 ì£¼ìš” Edge Functions

| Function | ëª©ì  | íŠ¸ë¦¬ê±° |
|----------|------|--------|
| `aggregate-dashboard-kpis` | KPI ì§‘ê³„ | ìˆ˜ë™/ìŠ¤ì¼€ì¤„ |
| `analyze-retail-data` | ë°ì´í„° ë¶„ì„ | ìˆ˜ë™ |
| `generate-ai-recommendations` | AI ì¶”ì²œ ìƒì„± | ìˆ˜ë™/ìŠ¤ì¼€ì¤„ |
| `process-wifi-data` | Wi-Fi ë°ì´í„° ì²˜ë¦¬ | ì‹¤ì‹œê°„ |
| `integrated-data-pipeline` | ë°ì´í„° íŒŒì´í”„ë¼ì¸ | ìˆ˜ë™ |
| `sync-hq-stores` | HQ ë™ê¸°í™” | ìˆ˜ë™/ìŠ¤ì¼€ì¤„ |
| `advanced-ai-inference` | AI ì¶”ë¡  | ìˆ˜ë™ |

### 8.2 í˜¸ì¶œ ë°©ë²•

```typescript
const { data, error } = await supabase.functions.invoke('function-name', {
  body: { param1: 'value1' }
});
```

---

## 9. ëª¨ë‹ˆí„°ë§ ë° ë¡œê¹…

### 9.1 ì• í”Œë¦¬ì¼€ì´ì…˜ ëª¨ë‹ˆí„°ë§

#### ì„±ëŠ¥ ë©”íŠ¸ë¦­
- í˜ì´ì§€ ë¡œë“œ ì‹œê°„
- API ì‘ë‹µ ì‹œê°„
- 3D ë Œë”ë§ FPS

#### ì—ëŸ¬ ì¶”ì 
- Console Errors
- Unhandled Rejections
- Network Failures

### 9.2 ì‚¬ìš©ì í–‰ë™ ë¶„ì„

#### ì´ë²¤íŠ¸ íŠ¸ë˜í‚¹
- í˜ì´ì§€ ë·°
- ë²„íŠ¼ í´ë¦­
- í•„í„° ì‚¬ìš©
- ë³´ê³ ì„œ ìƒì„±

---

## 10. í…ŒìŠ¤íŠ¸ ì „ëµ

### 10.1 ë‹¨ìœ„ í…ŒìŠ¤íŠ¸
- Jest + React Testing Library
- ì»´í¬ë„ŒíŠ¸ í…ŒìŠ¤íŠ¸
- í›… í…ŒìŠ¤íŠ¸
- ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ í…ŒìŠ¤íŠ¸

### 10.2 í†µí•© í…ŒìŠ¤íŠ¸
- API ì—”ë“œí¬ì¸íŠ¸ í…ŒìŠ¤íŠ¸
- ë°ì´í„° íë¦„ í…ŒìŠ¤íŠ¸
- Edge Function í…ŒìŠ¤íŠ¸

### 10.3 E2E í…ŒìŠ¤íŠ¸
- Playwright
- ì£¼ìš” ì‚¬ìš©ì í”Œë¡œìš° í…ŒìŠ¤íŠ¸

---

## 11. ë°°í¬ ë° ìš´ì˜

### 11.1 ë°°í¬ ì „ëµ

#### CI/CD íŒŒì´í”„ë¼ì¸
- GitHub Actions
- ìë™ ë¹Œë“œ
- ìë™ í…ŒìŠ¤íŠ¸
- í”„ë¡œë•ì…˜ ë°°í¬

#### í™˜ê²½ ë¶„ë¦¬
- Development
- Staging
- Production

### 11.2 ë°±ì—… ë° ë³µêµ¬

#### ë°ì´í„°ë² ì´ìŠ¤ ë°±ì—…
- ì¼ì¼ ìë™ ë°±ì—…
- Point-in-Time Recovery (PITR)
- 30ì¼ ë³´ê´€

#### íŒŒì¼ ë°±ì—…
- Supabase Storage ìë™ ë³µì œ
- ì§€ì—­ ê°„ ë³µì œ

---

## 12. í–¥í›„ ê°œì„  ê³„íš

### 12.1 Phase 2 ê¸°ëŠ¥

1. **ëª¨ë°”ì¼ ì•±**
   - React Native
   - í‘¸ì‹œ ì•Œë¦¼
   - ì˜¤í”„ë¼ì¸ ëª¨ë“œ

2. **ê³ ê¸‰ AI ê¸°ëŠ¥**
   - ì´ë¯¸ì§€ ì¸ì‹ (ì œí’ˆ ìë™ íƒœê¹…)
   - ìŒì„± ì¸í„°í˜ì´ìŠ¤
   - ìì—°ì–´ ì¿¼ë¦¬

3. **í˜‘ì—… ê¸°ëŠ¥**
   - ì‹¤ì‹œê°„ ì½”ë©˜íŠ¸
   - ë³´ê³ ì„œ ê³µìœ 
   - ì•Œë¦¼ ì‹œìŠ¤í…œ

### 12.2 í™•ì¥ì„± ê°œì„ 

1. **ì„±ëŠ¥ ìµœì í™”**
   - CDN ë„ì…
   - Edge Computing
   - ë°ì´í„° íŒŒí‹°ì…”ë‹

2. **ë‹¤êµ­ì–´ ì§€ì›**
   - i18n
   - í˜„ì§€í™”

3. **ì ‘ê·¼ì„± ê°œì„ **
   - WCAG 2.1 AA ì¤€ìˆ˜
   - ìŠ¤í¬ë¦° ë¦¬ë” ì§€ì›

---

## 13. ì§€ì› ë° ë¬¸ì„œ

### 13.1 ì‚¬ìš©ì ê°€ì´ë“œ
- ì˜¨ë³´ë”© íŠœí† ë¦¬ì–¼
- ë¹„ë””ì˜¤ ê°€ì´ë“œ
- FAQ

### 13.2 ê°œë°œì ë¬¸ì„œ
- API ë ˆí¼ëŸ°ìŠ¤
- ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ
- ì•„í‚¤í…ì²˜ ë‹¤ì´ì–´ê·¸ë¨

### 13.3 ì§€ì› ì±„ë„
- ì´ë©”ì¼ ì§€ì›
- ì±„íŒ… ì§€ì› (ì˜ì—…ì‹œê°„)
- ì»¤ë®¤ë‹ˆí‹° í¬ëŸ¼

---

## ë¶€ë¡ A: ìš©ì–´ì§‘

| ìš©ì–´ | ì •ì˜ |
|------|------|
| **Digital Twin** | ë¬¼ë¦¬ì  ë§¤ì¥ì˜ ë””ì§€í„¸ ë³µì œë³¸ |
| **Ontology** | ë°ì´í„°ì˜ ê°œë…ì  ìŠ¤í‚¤ë§ˆ ë° ê´€ê³„ ì •ì˜ |
| **RLS** | Row Level Security, í–‰ ìˆ˜ì¤€ ë³´ì•ˆ |
| **Edge Function** | ì„œë²„ë¦¬ìŠ¤ í•¨ìˆ˜ |
| **KPI** | Key Performance Indicator, í•µì‹¬ ì„±ê³¼ ì§€í‘œ |
| **Funnel** | ê³ ê° ì—¬ì •ì˜ ë‹¨ê³„ë³„ íë¦„ |
| **Heatmap** | ë°ì´í„° ë°€ë„ë¥¼ ìƒ‰ìƒìœ¼ë¡œ í‘œí˜„í•œ ì‹œê°í™” |
| **Realtime Presence** | ì‹¤ì‹œê°„ ì‚¬ìš©ì ìœ„ì¹˜ ì¶”ì  |

---

## ë¶€ë¡ B: ì°¸ê³  ìë£Œ

- [Supabase Documentation](https://supabase.com/docs)
- [React Three Fiber](https://docs.pmnd.rs/react-three-fiber)
- [Recharts](https://recharts.org/)
- [shadcn/ui](https://ui.shadcn.com/)
- [Tailwind CSS](https://tailwindcss.com/)

---

**ë¬¸ì„œ ë**
